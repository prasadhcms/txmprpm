import{j as e}from"./ui-B52-YLhK.js";import{r}from"./vendor-BcRnq7Bv.js";import{d as J}from"./data-service-Cdw2IN4T.js";import{C as n,b as u,e as m,U as p,d as f,I as R,i as g,j as N,k as v,l as b,m as o,A as w,n as y,o as C,f as q,h as S,p as D,g as _,B as W,q as G}from"./index-CwOpWW1C.js";import{D as K,a as O,b as Q,c as X,d as Y,e as Z}from"./dialog-C51BNC8a.js";import{S as E}from"./search-CElmDAbQ.js";import{M as L}from"./map-pin-OatoSQae.js";import{P as $}from"./phone-C23XvDq8.js";import"./supabase-B83k6j1z.js";import"./utils-BT0ItAA-.js";function me(){const[i,A]=r.useState([]),[x,F]=r.useState([]),[t,T]=r.useState(""),[c,I]=r.useState("all"),[d,B]=r.useState("all"),[P,V]=r.useState(!0),[l,k]=r.useState(null);r.useEffect(()=>{U()},[]),r.useEffect(()=>{M()},[i,t,c,d]);const U=async()=>{try{const s=await J.getEmployees();A(s)}catch(s){console.error("Error fetching employees:",s)}finally{V(!1)}},M=()=>{let s=i;t&&(s=s.filter(a=>a.full_name.toLowerCase().includes(t.toLowerCase())||a.job_title.toLowerCase().includes(t.toLowerCase())||a.department.toLowerCase().includes(t.toLowerCase()))),c!=="all"&&(s=s.filter(a=>a.department===c)),d!=="all"&&(s=s.filter(a=>a.location===d)),F(s)},z=()=>[...new Set(i.map(a=>a.department))].sort(),H=()=>[...new Set(i.map(a=>a.location))].sort(),j=s=>{switch(s){case"super_admin":return"bg-destructive text-destructive-foreground border-0";case"manager":return"bg-primary text-primary-foreground border-0";default:return"bg-success text-success-foreground border-0"}};return P?e.jsxs("div",{className:"space-y-8 ",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-muted/30 rounded-2xl -z-10"}),e.jsx("div",{className:"p-8 space-y-4",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-16 h-16 bg-muted rounded-2xl animate-pulse"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-8 bg-muted rounded w-64 animate-pulse"}),e.jsx("div",{className:"h-4 bg-muted rounded w-96 animate-pulse"})]})]})})]}),e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[...Array(6)].map((s,a)=>e.jsxs(n,{className:"border shadow-sm bg-card",children:[e.jsx(u,{className:"pb-4",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"h-12 w-12 bg-muted rounded-full animate-pulse"}),e.jsxs("div",{className:"space-y-2 flex-1",children:[e.jsx("div",{className:"h-5 bg-muted rounded w-32 animate-pulse"}),e.jsx("div",{className:"h-4 bg-muted rounded w-24 animate-pulse"})]})]})}),e.jsx(m,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 bg-muted rounded w-full animate-pulse"}),e.jsx("div",{className:"h-4 bg-muted rounded w-2/3 animate-pulse"})]})})]},a))})]}):e.jsxs("div",{className:"space-y-8 ",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-muted/30 rounded-2xl -z-10"}),e.jsx("div",{className:"p-8 space-y-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-16 h-16 bg-primary rounded-2xl flex items-center justify-center shadow-lg ",children:e.jsx(p,{className:"h-8 w-8 text-primary-foreground"})}),e.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-success rounded-full animate-pulse"})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold text-primary-subtle",children:"Employee Directory"}),e.jsx("p",{className:"text-lg text-muted-foreground mt-2",children:"Browse and connect with your colleagues"})]})]}),e.jsx("div",{className:"hidden md:flex items-center space-x-4 text-sm text-muted-foreground",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-success rounded-full animate-pulse"}),e.jsxs("span",{children:[x.length," employees"]})]})})]})})]}),e.jsxs(n,{className:"border shadow-sm bg-card",children:[e.jsx(u,{className:"pb-4",children:e.jsxs(f,{className:"flex items-center gap-2",children:[e.jsx(E,{className:"h-5 w-5 text-primary"}),"Search & Filter"]})}),e.jsx(m,{children:e.jsxs("div",{className:"flex flex-col gap-4 md:flex-row",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(E,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(R,{placeholder:"Search employees...",value:t,onChange:s=>T(s.target.value),className:"pl-10"})]}),e.jsxs(g,{value:c,onValueChange:I,children:[e.jsx(N,{className:"w-full md:w-48",children:e.jsx(v,{placeholder:"Department"})}),e.jsxs(b,{children:[e.jsx(o,{value:"all",children:"All Departments"}),z().map(s=>e.jsx(o,{value:s,children:s},s))]})]}),e.jsxs(g,{value:d,onValueChange:B,children:[e.jsx(N,{className:"w-full md:w-48",children:e.jsx(v,{placeholder:"Location"})}),e.jsxs(b,{children:[e.jsx(o,{value:"all",children:"All Locations"}),H().map(s=>e.jsx(o,{value:s,children:s},s))]})]})]})})]}),e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:x.map((s,a)=>e.jsxs(n,{className:"card-hover border shadow-sm bg-card group",children:[e.jsx(u,{className:"pb-4",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsxs(w,{className:"h-14 w-14 ring-2 ring-primary/20 group-hover:ring-primary/40 transition-all duration-200",children:[e.jsx(y,{src:s.profile_picture||void 0}),e.jsx(C,{className:"bg-primary text-primary-foreground font-semibold",children:s.full_name.split(" ").map(h=>h[0]).join("")})]}),e.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-success rounded-full border-2 border-white"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx(f,{className:"text-lg font-semibold truncate",children:s.full_name}),e.jsx(q,{className:"truncate text-sm",children:s.job_title}),e.jsx("div",{className:"flex items-center space-x-2 mt-2",children:e.jsx(S,{className:j(s.role),children:s.role.replace("_"," ")})})]})]})}),e.jsxs(m,{className:"pt-0",children:[e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex items-center text-muted-foreground",children:[e.jsx("div",{className:"w-8 h-8 bg-muted rounded-lg flex items-center justify-center mr-3",children:e.jsx(D,{className:"h-4 w-4"})}),e.jsx("span",{children:s.department})]}),e.jsxs("div",{className:"flex items-center text-muted-foreground",children:[e.jsx("div",{className:"w-8 h-8 bg-muted rounded-lg flex items-center justify-center mr-3",children:e.jsx(L,{className:"h-4 w-4"})}),e.jsx("span",{children:s.location})]}),e.jsxs("div",{className:"flex items-center text-muted-foreground",children:[e.jsx("div",{className:"w-8 h-8 bg-muted rounded-lg flex items-center justify-center mr-3",children:e.jsx(_,{className:"h-4 w-4"})}),e.jsxs("span",{children:["Joined ",new Date(s.joining_date).toLocaleDateString()]})]})]}),e.jsxs(K,{children:[e.jsx(O,{asChild:!0,children:e.jsx(W,{variant:"outline",className:"w-full mt-4 bg-primary/5 border-primary/20 text-primary hover:bg-primary hover:text-primary-foreground transition-all duration-200 hover:scale-105",onClick:()=>k(s),children:"View Profile"})}),e.jsxs(Q,{className:"max-w-2xl",children:[e.jsxs(X,{children:[e.jsx(Y,{children:"Employee Profile"}),e.jsx(Z,{children:"View detailed information about this employee."})]}),l&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs(w,{className:"h-20 w-20",children:[e.jsx(y,{src:l.profile_picture||void 0}),e.jsx(C,{className:"text-lg",children:l.full_name.split(" ").map(h=>h[0]).join("")})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold",children:l.full_name}),e.jsx("p",{className:"text-lg text-muted-foreground",children:l.job_title}),e.jsx(S,{className:j(l.role),variant:"outline",children:l.role.replace("_"," ").toUpperCase()})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Contact Information"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(G,{className:"mr-2 h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm",children:l.email})]}),l.phone&&e.jsxs("div",{className:"flex items-center",children:[e.jsx($,{className:"mr-2 h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm",children:l.phone})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(L,{className:"mr-2 h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm",children:l.location})]})]})]})}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Work Information"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(D,{className:"mr-2 h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm",children:l.department})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(_,{className:"mr-2 h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"text-sm",children:["Joined ",new Date(l.joining_date).toLocaleDateString()]})]})]})]})})]})]})]})]})]})]},s.id))}),x.length===0&&e.jsx(n,{children:e.jsx(m,{className:"py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx(p,{className:"mx-auto h-12 w-12 text-muted-foreground"}),e.jsx("h3",{className:"mt-4 text-lg font-semibold",children:"No employees found"}),e.jsx("p",{className:"text-muted-foreground",children:"Try adjusting your search filters"})]})})})]})}export{me as Directory};
