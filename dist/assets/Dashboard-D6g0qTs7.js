import{j as e,c as O,P as _}from"./ui-B52-YLhK.js";import{r as h}from"./vendor-BcRnq7Bv.js";import{c as D,a as q,u as B,C as d,b as n,d as m,e as c,f as k,B as x,S as N,L as g,g as v,h as w,U as C,M,E}from"./index-CwOpWW1C.js";import{d as z}from"./data-service-Cdw2IN4T.js";import{R as H}from"./refresh-cw-Cbz7bPSV.js";import{T as W,C as X,a as Y}from"./css-charts-CdCr8ooN.js";import{C as T}from"./clock-NqfEd9ie.js";import{f as Z}from"./utils-BT0ItAA-.js";import"./supabase-B83k6j1z.js";/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y=D("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=D("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=D("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=D("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function ee(s){const[r,t]=h.useState({pageLoadTime:0,dataFetchTime:0,renderTime:0}),[i]=h.useState(performance.now()),[l,j]=h.useState(null);return h.useEffect(()=>{const o=performance.now()-i;t(p=>({...p,pageLoadTime:o}))},[s,i]),{metrics:r,trackDataFetch:{start:()=>{j(performance.now())},end:()=>{if(l){const o=performance.now()-l;t(p=>({...p,dataFetchTime:o}))}}},trackRender:{start:()=>{const o=performance.now();return()=>{const p=performance.now()-o;t(a=>({...a,renderTime:p}))}}}}}var L="Progress",R=100,[se,Ne]=O(L),[ae,te]=se(L),V=h.forwardRef((s,r)=>{const{__scopeProgress:t,value:i=null,max:l,getValueLabel:j=re,...f}=s;(l||l===0)&&!$(l)&&console.error(le(`${l}`,"Progress"));const u=$(l)?l:R;i!==null&&!G(i,u)&&console.error(de(`${i}`,"Progress"));const o=G(i,u)?i:null,p=P(o)?j(o,u):void 0;return e.jsx(ae,{scope:t,value:o,max:u,children:e.jsx(_.div,{"aria-valuemax":u,"aria-valuemin":0,"aria-valuenow":P(o)?o:void 0,"aria-valuetext":p,role:"progressbar","data-state":F(o,u),"data-value":o??void 0,"data-max":u,...f,ref:r})})});V.displayName=L;var I="ProgressIndicator",U=h.forwardRef((s,r)=>{const{__scopeProgress:t,...i}=s,l=te(I,t);return e.jsx(_.div,{"data-state":F(l.value,l.max),"data-value":l.value??void 0,"data-max":l.max,...i,ref:r})});U.displayName=I;function re(s,r){return`${Math.round(s/r*100)}%`}function F(s,r){return s==null?"indeterminate":s===r?"complete":"loading"}function P(s){return typeof s=="number"}function $(s){return P(s)&&!isNaN(s)&&s>0}function G(s,r){return P(s)&&!isNaN(s)&&s<=r&&s>=0}function le(s,r){return`Invalid prop \`max\` of value \`${s}\` supplied to \`${r}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${R}\`.`}function de(s,r){return`Invalid prop \`value\` of value \`${s}\` supplied to \`${r}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${R} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Q=V,ne=U;const A=h.forwardRef(({className:s,value:r,...t},i)=>e.jsx(Q,{ref:i,className:q("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",s),...t,children:e.jsx(ne,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(r||0)}%)`}})}));A.displayName=Q.displayName;function ie(){const{profile:s}=B(),[r,t]=h.useState(null),[i,l]=h.useState(!0);h.useEffect(()=>{s&&j()},[s]);const j=async()=>{if(s)try{t({tasksCompleted:12,tasksTotal:15,completionRate:80,streakDays:5,upcomingDeadlines:3,weeklyGoal:20,weeklyProgress:12})}catch(f){console.error("Error fetching quick stats:",f)}finally{l(!1)}};return i||!r?e.jsxs(d,{children:[e.jsx(n,{children:e.jsxs(m,{className:"flex items-center gap-2",children:[e.jsx(S,{className:"h-5 w-5"}),"Quick Stats"]})}),e.jsx(c,{children:e.jsxs("div",{className:"space-y-4 animate-pulse",children:[e.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),e.jsx("div",{className:"h-2 bg-muted rounded"}),e.jsx("div",{className:"h-4 bg-muted rounded w-1/2"})]})})]}):e.jsxs(d,{children:[e.jsx(n,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(m,{className:"flex items-center gap-2",children:[e.jsx(S,{className:"h-5 w-5"}),"Quick Stats"]}),e.jsx(k,{children:"Your performance at a glance"})]}),e.jsx(x,{variant:"ghost",size:"sm",onClick:j,className:"h-8 w-8 p-0",children:e.jsx(H,{className:"h-4 w-4"})})]})}),e.jsxs(c,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(N,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"text-sm font-medium",children:"Tasks Completed"})]}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[r.tasksCompleted,"/",r.tasksTotal]})]}),e.jsx(A,{value:r.completionRate,className:"h-2"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.completionRate,"% completion rate this week"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(W,{className:"h-4 w-4 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium",children:"Weekly Goal"})]}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[r.weeklyProgress,"/",r.weeklyGoal]})]}),e.jsx(A,{value:r.weeklyProgress/r.weeklyGoal*100,className:"h-2"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.weeklyGoal-r.weeklyProgress," tasks remaining"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-1 mb-1",children:[e.jsx(K,{className:"h-4 w-4 text-orange-600"}),e.jsx("span",{className:"text-lg font-bold text-foreground",children:r.streakDays})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Day Streak"})]}),e.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-1 mb-1",children:[e.jsx(T,{className:"h-4 w-4 text-red-600"}),e.jsx("span",{className:"text-lg font-bold text-foreground",children:r.upcomingDeadlines})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Due Soon"})]})]}),r.completionRate>=90&&e.jsx("div",{className:"flex items-center justify-center p-3 bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg border border-green-200",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(J,{className:"h-5 w-5 text-green-600"}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm font-medium text-green-800",children:"High Performer!"}),e.jsx("p",{className:"text-xs text-green-600",children:"Excellent completion rate"})]})]})}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(x,{variant:"outline",size:"sm",className:"flex-1",asChild:!0,children:e.jsxs(g,{to:"/tasks",children:[e.jsx(N,{className:"h-4 w-4 mr-1"}),"Tasks"]})}),e.jsx(x,{variant:"outline",size:"sm",className:"flex-1",asChild:!0,children:e.jsxs(g,{to:"/leave",children:[e.jsx(v,{className:"h-4 w-4 mr-1"}),"Leave"]})})]})]})]})}function fe(){const{profile:s}=B(),{trackDataFetch:r}=ee("Dashboard"),[t,i]=h.useState(null),[l,j]=h.useState([]),[f,u]=h.useState(!0);h.useEffect(()=>{s&&o()},[s]);const o=async()=>{if(s)try{u(!0),r.start();const[a,b]=await Promise.all([z.getDashboardStats(s.id,s.role,s.department),z.getRecentActivity(s.id)]);i(a),j(b),r.end()}catch(a){console.error("Error fetching dashboard data:",a)}finally{u(!1)}};if(f)return e.jsxs("div",{className:"space-y-8 ",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"h-10 bg-gradient-to-r from-muted via-muted/50 to-muted rounded-xl w-80 animate-pulse"}),e.jsx("div",{className:"h-6 bg-gradient-to-r from-muted via-muted/50 to-muted rounded-lg w-96 animate-pulse"})]}),e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[...Array(4)].map((a,b)=>e.jsx(d,{className:"card-hover border-0 shadow-lg bg-gradient-to-br from-muted/20 to-muted/10",children:e.jsx(n,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"h-12 w-12 bg-gradient-to-br from-primary/20 to-accent/20 rounded-xl animate-pulse"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 bg-muted rounded w-24 animate-pulse"}),e.jsx("div",{className:"h-8 bg-muted rounded w-16 animate-pulse"})]})]})})},b))}),e.jsx("div",{className:"grid gap-8 lg:grid-cols-2",children:[...Array(2)].map((a,b)=>e.jsxs(d,{className:"card-hover border-0 shadow-lg",children:[e.jsxs(n,{children:[e.jsx("div",{className:"h-6 bg-muted rounded w-48 animate-pulse"}),e.jsx("div",{className:"h-4 bg-muted rounded w-64 animate-pulse"})]}),e.jsx(c,{children:e.jsx("div",{className:"h-[300px] bg-gradient-to-br from-muted/20 to-muted/10 rounded-xl animate-pulse"})})]},b))})]});const p=()=>{const a=new Date().getHours();return a<12?"Good morning":a<18?"Good afternoon":"Good evening"};return e.jsxs("div",{className:"space-y-8 relative",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-muted/30 rounded-2xl -z-10"}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsx("div",{className:"flex items-center space-x-3",children:e.jsx("div",{children:e.jsxs("h1",{className:"text-3xl font-bold text-primary-subtle",children:[p(),", ",s?.full_name?.split(" ")[0],"!"]})})}),e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsx("div",{className:"w-2 h-2 bg-success rounded-full animate-pulse"}),e.jsx("span",{className:"text-muted-foreground",children:"System Online"})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsx(T,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-muted-foreground",children:new Date().toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})})]})]})]})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(d,{className:"card-hover border shadow-sm bg-card group",children:[e.jsx(n,{className:"pb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-3 bg-indigo-500 rounded-xl shadow-sm group-hover:shadow-md transition-all duration-300 group-hover:scale-105",children:e.jsx(N,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx(m,{className:"text-sm font-medium text-muted-foreground",children:"My Tasks"}),e.jsx("div",{className:"text-3xl font-bold text-foreground mt-1",children:t?.myTasks})]})]}),e.jsx(x,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 opacity-0 group-hover:opacity-100 transition-opacity",asChild:!0,children:e.jsx(g,{to:"/tasks",children:e.jsx(y,{className:"h-4 w-4"})})})]})}),e.jsx(c,{className:"pt-0",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"flex-1 bg-muted rounded-full h-2",children:e.jsx("div",{className:"bg-indigo-500 h-2 rounded-full w-3/5"})}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"Active"})]})})]}),t?.upcomingDeadlines&&t.upcomingDeadlines>0&&e.jsxs(d,{className:"card-hover border shadow-sm bg-card group",children:[e.jsx(n,{className:"pb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-3 bg-red-500 rounded-xl shadow-sm group-hover:shadow-md transition-all duration-300 group-hover:scale-105",children:e.jsx(T,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx(m,{className:"text-sm font-medium text-muted-foreground",children:"Due Soon"}),e.jsx("div",{className:"text-3xl font-bold text-foreground mt-1",children:t?.upcomingDeadlines})]})]}),e.jsx(w,{className:"bg-red-500 text-white border-0 shadow-sm",children:"Urgent"})]})}),e.jsx(c,{className:"pt-0",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"flex-1 bg-muted rounded-full h-2",children:e.jsx("div",{className:"bg-red-500 h-2 rounded-full w-4/5"})}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"Next 7 days"})]})})]}),t?.myPendingLeaves&&t.myPendingLeaves>0&&e.jsxs(d,{className:"card-hover border shadow-sm bg-card group",children:[e.jsx(n,{className:"pb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-3 bg-yellow-500 rounded-xl shadow-sm group-hover:shadow-md transition-all duration-300 group-hover:scale-105",children:e.jsx(v,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx(m,{className:"text-sm font-medium text-muted-foreground",children:"My Leave Requests"}),e.jsx("div",{className:"text-3xl font-bold text-foreground mt-1",children:t?.myPendingLeaves})]})]}),e.jsx(w,{className:"bg-yellow-500 text-white border-0 shadow-sm",children:"Pending"})]})}),e.jsx(c,{className:"pt-0",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"flex-1 bg-muted rounded-full h-2",children:e.jsx("div",{className:"bg-yellow-500 h-2 rounded-full w-1/2"})}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"Awaiting approval"})]})})]}),(s?.role==="manager"||s?.role==="super_admin")&&e.jsxs(d,{className:"card-hover border shadow-sm bg-card group",children:[e.jsx(n,{className:"pb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-3 bg-teal-500 rounded-xl shadow-sm group-hover:shadow-md transition-all duration-300 group-hover:scale-105",children:e.jsx(C,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx(m,{className:"text-sm font-medium text-muted-foreground",children:"My Team"}),e.jsx("div",{className:"text-3xl font-bold text-foreground mt-1",children:t?.teamSize})]})]}),e.jsx(x,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 opacity-0 group-hover:opacity-100 transition-opacity",asChild:!0,children:e.jsx(g,{to:"/directory",children:e.jsx(y,{className:"h-4 w-4"})})})]})}),e.jsx(c,{className:"pt-0",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"flex-1 bg-muted rounded-full h-2",children:e.jsx("div",{className:"bg-teal-500 h-2 rounded-full w-4/5"})}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"Department"})]})})]})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(d,{className:"card-hover border shadow-sm bg-card group",children:[e.jsx(n,{className:"pb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-3 bg-blue-500 rounded-xl shadow-sm group-hover:shadow-md transition-all duration-300 group-hover:scale-105",children:e.jsx(C,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx(m,{className:"text-sm font-medium text-muted-foreground",children:"Team Members"}),e.jsx("div",{className:"text-3xl font-bold text-foreground mt-1",children:t?.totalEmployees})]})]}),e.jsx(x,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(y,{className:"h-4 w-4"})})]})}),e.jsx(c,{className:"pt-0",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"flex-1 bg-muted rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full w-3/4"})}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"Active"})]})})]}),e.jsxs(d,{className:"card-hover border shadow-sm bg-card group",children:[e.jsx(n,{className:"pb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-3 bg-orange-500 rounded-xl shadow-sm group-hover:shadow-md transition-all duration-300 group-hover:scale-105",children:e.jsx(v,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx(m,{className:"text-sm font-medium text-muted-foreground",children:"Pending Leaves"}),e.jsx("div",{className:"text-3xl font-bold text-foreground mt-1",children:t?.pendingLeaves})]})]}),t?.pendingLeaves&&t.pendingLeaves>0&&e.jsx(w,{className:"bg-orange-500 text-white border-0 shadow-sm",children:t.pendingLeaves})]})}),e.jsx(c,{className:"pt-0",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"flex-1 bg-muted rounded-full h-2",children:e.jsx("div",{className:"bg-orange-500 h-2 rounded-full w-1/2"})}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"Awaiting"})]})})]}),e.jsxs(d,{className:"card-hover border shadow-sm bg-card group",children:[e.jsx(n,{className:"pb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-3 bg-green-500 rounded-xl shadow-sm group-hover:shadow-md transition-all duration-300 group-hover:scale-105",children:e.jsx(N,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx(m,{className:"text-sm font-medium text-muted-foreground",children:"Active Tasks"}),e.jsx("div",{className:"text-3xl font-bold text-foreground mt-1",children:t?.activeTasks})]})]}),e.jsx(x,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(y,{className:"h-4 w-4"})})]})}),e.jsx(c,{className:"pt-0",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"flex-1 bg-muted rounded-full h-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full w-4/5"})}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"Progress"})]})})]}),e.jsxs(d,{className:"card-hover border shadow-sm bg-card group",children:[e.jsx(n,{className:"pb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-3 bg-purple-500 rounded-xl shadow-sm group-hover:shadow-md transition-all duration-300 group-hover:scale-105",children:e.jsx(M,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx(m,{className:"text-sm font-medium text-muted-foreground",children:"Announcements"}),e.jsx("div",{className:"text-3xl font-bold text-foreground mt-1",children:t?.recentAnnouncements})]})]}),e.jsx(x,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(y,{className:"h-4 w-4"})})]})}),e.jsx(c,{className:"pt-0",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"flex-1 bg-muted rounded-full h-2",children:e.jsx("div",{className:"bg-purple-500 h-2 rounded-full w-2/3"})}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"Published"})]})})]})]}),e.jsxs("div",{className:"grid gap-8 lg:grid-cols-3",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"grid gap-8 lg:grid-cols-2",children:[e.jsxs(d,{className:"border-0 shadow-lg",children:[e.jsx(n,{className:"pb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(m,{className:"text-xl font-semibold",children:"Leave Distribution"}),e.jsx(k,{className:"text-gray-600",children:"Approved leaves by department"})]}),e.jsx(x,{variant:"outline",size:"sm",asChild:!0,className:"bg-gray-100 text-gray-600 border-gray-300 hover:bg-gray-200 hover:text-gray-700",children:e.jsxs(g,{to:"/leave",children:[e.jsx(E,{className:"h-4 w-4 mr-2"}),"View All"]})})]})}),e.jsx(c,{children:t?.leavesByDepartment&&t.leavesByDepartment.length>0?e.jsx(X,{data:t.leavesByDepartment.map(a=>({name:a.name,value:a.value,color:"#3b82f6"})),height:300,showValues:!0,showLabels:!0}):e.jsx("div",{className:"flex items-center justify-center h-[300px] text-gray-500",children:e.jsxs("div",{className:"text-center",children:[e.jsx(v,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{children:"No leave data available"})]})})})]}),e.jsxs(d,{className:"border-0 shadow-lg",children:[e.jsx(n,{className:"pb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(m,{className:"text-xl font-semibold",children:"Task Overview"}),e.jsx(k,{className:"text-gray-600",children:"Current task distribution"})]}),e.jsx(x,{variant:"outline",size:"sm",asChild:!0,className:"bg-gray-100 text-gray-600 border-gray-300 hover:bg-gray-200 hover:text-gray-700",children:e.jsxs(g,{to:"/tasks",children:[e.jsx(E,{className:"h-4 w-4 mr-2"}),"View All"]})})]})}),e.jsx(c,{children:t?.tasksByStatus.some(a=>a.value>0)?e.jsx("div",{className:"flex justify-center",children:e.jsx(Y,{data:t.tasksByStatus.filter(a=>a.value>0).map(a=>({name:a.name,value:a.value,color:a.color})),size:200,showLabels:!0,showLegend:!0})}):e.jsx("div",{className:"flex items-center justify-center h-[300px] text-gray-500",children:e.jsxs("div",{className:"text-center",children:[e.jsx(N,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{children:"No task data available"})]})})})]})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(ie,{}),e.jsxs(d,{className:"border-0 shadow-lg",children:[e.jsxs(n,{className:"pb-4",children:[e.jsx(m,{className:"text-xl font-semibold",children:"Recent Activity"}),e.jsx(k,{children:"Your latest updates and notifications"})]}),e.jsx(c,{className:"space-y-4",children:l.length>0?l.map(a=>e.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg hover:bg-muted/50 transition-colors",children:[e.jsxs("div",{className:`p-2 rounded-lg ${a.type==="task"?"bg-blue-100 text-blue-600":a.type==="leave"?"bg-yellow-100 text-yellow-600":a.type==="announcement"?"bg-purple-100 text-purple-600":"bg-gray-100 text-gray-600"}`,children:[a.type==="task"&&e.jsx(N,{className:"h-4 w-4"}),a.type==="leave"&&e.jsx(v,{className:"h-4 w-4"}),a.type==="announcement"&&e.jsx(M,{className:"h-4 w-4"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:a.title}),e.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:a.description}),e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:Z(new Date(a.timestamp),"MMM dd, h:mm a")}),a.status&&e.jsx(w,{variant:"outline",className:"text-xs",children:a.status}),a.priority&&e.jsx(w,{variant:"outline",className:`text-xs ${a.priority==="high"?"border-red-200 text-red-600":a.priority==="medium"?"border-yellow-200 text-yellow-600":"border-green-200 text-green-600"}`,children:a.priority})]})]})]},a.id)):e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(N,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),e.jsx("p",{children:"No recent activity"})]})})]}),e.jsxs(d,{className:"border-0 shadow-lg",children:[e.jsx(n,{className:"pb-4",children:e.jsx(m,{className:"text-lg font-semibold",children:"Quick Summary"})}),e.jsxs(c,{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Active Tasks"}),e.jsx("span",{className:"text-sm font-medium",children:t?.myTasks||0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Pending Leaves"}),e.jsx("span",{className:"text-sm font-medium",children:t?.myPendingLeaves||0})]}),(s?.role==="manager"||s?.role==="super_admin")&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Team Members"}),e.jsx("span",{className:"text-sm font-medium",children:t?.teamSize||0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Due This Week"}),e.jsx("span",{className:"text-sm font-medium text-red-600",children:t?.upcomingDeadlines||0})]})]})]})]})]}),e.jsxs(d,{className:"border-0 shadow-lg bg-gradient-to-r from-gray-50 to-gray-100",children:[e.jsxs(n,{children:[e.jsxs(m,{className:"text-xl font-semibold flex items-center",children:[e.jsx(S,{className:"h-5 w-5 mr-2 text-blue-600"}),"Quick Actions"]}),e.jsx(k,{children:"Get started with common tasks"})]}),e.jsx(c,{children:e.jsxs("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-4",children:[e.jsx(x,{variant:"outline",className:"h-auto p-4 flex flex-col items-center space-y-2 bg-gray-100 text-gray-600 border-gray-300 hover:bg-blue-50 hover:border-blue-200 hover:text-blue-700 transition-colors",asChild:!0,children:e.jsxs(g,{to:"/leave",children:[e.jsx(v,{className:"h-6 w-6 text-blue-600"}),e.jsx("span",{className:"font-medium",children:"Apply for Leave"})]})}),e.jsx(x,{variant:"outline",className:"h-auto p-4 flex flex-col items-center space-y-2 bg-gray-100 text-gray-600 border-gray-300 hover:bg-green-50 hover:border-green-200 hover:text-green-700 transition-colors",asChild:!0,children:e.jsxs(g,{to:"/tasks",children:[e.jsx(N,{className:"h-6 w-6 text-green-600"}),e.jsx("span",{className:"font-medium",children:"View My Tasks"})]})}),e.jsx(x,{variant:"outline",className:"h-auto p-4 flex flex-col items-center space-y-2 bg-gray-100 text-gray-600 border-gray-300 hover:bg-purple-50 hover:border-purple-200 hover:text-purple-700 transition-colors",asChild:!0,children:e.jsxs(g,{to:"/directory",children:[e.jsx(C,{className:"h-6 w-6 text-purple-600"}),e.jsx("span",{className:"font-medium",children:"Browse Directory"})]})}),s?.role!=="employee"&&e.jsx(x,{variant:"outline",className:"h-auto p-4 flex flex-col items-center space-y-2 bg-gray-100 text-gray-600 border-gray-300 hover:bg-orange-50 hover:border-orange-200 hover:text-orange-700 transition-colors",asChild:!0,children:e.jsxs(g,{to:"/reports",children:[e.jsx(S,{className:"h-6 w-6 text-orange-600"}),e.jsx("span",{className:"font-medium",children:"View Reports"})]})})]})})]})]})}export{fe as Dashboard};
